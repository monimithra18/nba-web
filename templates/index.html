<!DOCTYPE html>
<html>
<head>
    <title>Database Query Page</title>
</head>
<body>
    <h1>Run SQL Query</h1>
    <form method="post">
        <textarea name="query" rows="5" cols="80">{{ query }}</textarea><br>
        <input type="submit" value="Run Query">
    </form>

    {% if result is not none %}
        {% if result.__class__.__name__ == 'DataFrame' %}
            <h2>Results:</h2>
            {{ result.to_html(classes='data') | safe }}
        {% else %}
            <h2>Error:</h2>
            <p>{{ result }}</p>
        {% endif %}
    {% endif %}
</body>
</html>
